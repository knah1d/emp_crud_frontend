<div class="p-4">
  <!-- Header Toolbar -->
  <mat-toolbar color="primary" class="mb-4 rounded">
    <span class="flex-1">Employee List</span>
    <mat-form-field appearance="outline" class="search-field mx-4" subscriptSizing="dynamic">
      <!-- <mat-label>Search</mat-label> -->
      <input matInput 
             [(ngModel)]="searchTerm"
             (keyup.enter)="onSearchEmployee()"
             placeholder="Search">
      <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>
    <button mat-raised-button color="accent" routerLink="/form">
      <mat-icon>add</mat-icon>
      Add New Employee
    </button>
  </mat-toolbar>

  <!-- Material Card with Table -->
  <mat-card>
    <mat-card-content>
      <div class="mat-elevation-z8 overflow-x-auto">
        <table mat-table [dataSource]="filteredEmployees" class="w-full">
          <!-- ID Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef class="text-center"> ID </th>
            <td mat-cell *matCellDef="let employee; let i = index" class="text-center"> {{i + 1}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let employee"> 
              <strong>{{employee.name}}</strong>
            </td>
          </ng-container>

          <!-- Email Column -->
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let employee"> {{employee.email}} </td>
          </ng-container>

          <!-- Job Title Column -->
          <ng-container matColumnDef="jobTitle">
            <th mat-header-cell *matHeaderCellDef> Job Title </th>
            <td mat-cell *matCellDef="let employee"> {{employee.jobTitle}} </td>
          </ng-container>

          <!-- Department Column -->
          <ng-container matColumnDef="department">
            <th mat-header-cell *matHeaderCellDef> Department </th>
            <td mat-cell *matCellDef="let employee"> {{employee.department}} </td>
          </ng-container>

          <!-- Education Column -->
          <ng-container matColumnDef="education">
            <th mat-header-cell *matHeaderCellDef> Education </th>
            <td mat-cell *matCellDef="let employee">
              <div *ngFor="let edu of employee.educations" class="mb-1">
                <mat-chip class="text-xs">
                  {{edu.degree}} - {{edu.board}} ({{edu.passingYear}})
                </mat-chip>
              </div>
              <span *ngIf="!employee.educations || employee.educations.length === 0" class="text-gray-400">
                No education records
              </span>
            </td>
          </ng-container>

          <!-- Actions Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="text-center"> Actions </th>
            <td mat-cell *matCellDef="let employee" class="text-center">
              <button mat-icon-button color="primary" 
                      (click)="navigateToEdit(employee.empId)"
                      matTooltip="Edit Employee">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button color="warn" 
                      (click)="onDeleteEmployee(employee.empId)"
                      matTooltip="Delete Employee">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50"></tr>
        </table>
      </div>
      
      <!-- No Data Message -->
      <div *ngIf="filteredEmployees.length === 0" class="text-center py-8">
        <mat-icon class="text-6xl text-gray-300">inbox</mat-icon>
        <p class="text-gray-500 mt-2">No employees found</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>