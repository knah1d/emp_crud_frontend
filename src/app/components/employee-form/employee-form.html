<div class="bg-white min-h-screen p-5">
  <div class="max-w-[1400px] mx-auto">
    <!-- Header with Material Toolbar -->
    <mat-toolbar color="primary" class="mb-6 rounded">
      <span class="flex-1">{{ isEditMode ? 'Update Employee' : 'Employee Form' }}</span>
      <div class="flex gap-2">
        <button *ngIf="!isEditMode" mat-raised-button routerLink="/list">
          <mat-icon>arrow_back</mat-icon>
          Back List
        </button>
        <button *ngIf="isEditMode" mat-raised-button (click)="onCancel()">
          <mat-icon>close</mat-icon>
          Cancel
        </button>
        <button mat-raised-button color="warn" type="button" (click)="resetForm()">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>
        <button mat-raised-button color="accent" type="button" [disabled]="!employeeForm.valid" (click)="onSaveEmployee()">
          <mat-icon>save</mat-icon>
          {{ isEditMode ? 'Update' : 'Save' }}
        </button>
      </div>
    </mat-toolbar>

    <form [formGroup]="employeeForm" (ngSubmit)="onSaveEmployee()">
      <!-- Employee Information Card -->
      <mat-card class="mb-4">
        <mat-card-header>
          <mat-card-title>Employee Information</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4">
            <!-- Left Column -->
            <div class="flex flex-col gap-4">
              <mat-form-field appearance="outline" class="name-field w-full">
                <mat-label>Name</mat-label>
                <mat-icon matIconPrefix>person</mat-icon>
                <input matInput formControlName="name" placeholder="Enter employee name" />
                <mat-error *ngIf="employeeForm.get('name')?.hasError('required')">
                  Name is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="email-field w-full">
                <mat-label>Email</mat-label>
                <mat-icon matIconPrefix>email</mat-icon>
                <input matInput formControlName="email" type="email" placeholder="Enter email address" />
                <mat-error *ngIf="employeeForm.get('email')?.hasError('required')">
                  Email is required
                </mat-error>
                <mat-error *ngIf="employeeForm.get('email')?.hasError('email')">
                  Please enter a valid email
                </mat-error>
              </mat-form-field>
            </div>

            <!-- Right Column -->
            <div class="flex flex-col gap-4">
              <mat-form-field appearance="outline" class="jobTitle-field w-full">
                <mat-label>Job Title</mat-label>
                <mat-icon matIconPrefix>work</mat-icon>
                <input matInput formControlName="jobTitle" placeholder="Enter job title" />
                <mat-error *ngIf="employeeForm.get('jobTitle')?.hasError('required')">
                  Job Title is required
                </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" class="department-field w-full">
                <mat-label>Department</mat-label>
                <mat-icon matIconPrefix>business</mat-icon>
                <input matInput formControlName="department" placeholder="Enter department" />
                <mat-error *ngIf="employeeForm.get('department')?.hasError('required')">
                  Department is required
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Education Details Card -->
      <mat-card>
        <mat-card-header>
          <mat-card-title>Education Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div *ngIf="educations.length === 0" class="mb-4 text-gray-600">
            <mat-icon class="align-middle">info</mat-icon>
            No education records added yet. Click "Add Education" to add one.
          </div>

          <div formArrayName="educations">
            <mat-card *ngFor="let eduGroup of educations.controls; let i = index" [formGroupName]="i" class="mb-4">
              <mat-card-header>
                <mat-card-title class="text-base">Education Record #{{ i + 1 }}</mat-card-title>
                <button mat-mini-fab color="warn" type="button" (click)="removeEducation(i)" class="ml-auto">
                  <mat-icon>delete</mat-icon>
                </button>
              </mat-card-header>
              <mat-card-content>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                  <mat-form-field appearance="outline" class="degree-field w-full">
                    <mat-label>Degree</mat-label>
                    <mat-icon matIconPrefix>school</mat-icon>
                    <mat-select formControlName="degree" required>
                      <mat-option value="">Select Degree</mat-option>
                      <mat-option value="Bachelor of Science">Bachelor of Science</mat-option>
                      <mat-option value="Bachelor of Arts">Bachelor of Arts</mat-option>
                      <mat-option value="Master of Science">Master of Science</mat-option>
                      <mat-option value="Master of Arts">Master of Arts</mat-option>
                      <mat-option value="HSC">HSC</mat-option>
                      <mat-option value="SSC">SSC</mat-option>
                    </mat-select>
                    <mat-error>Degree is required</mat-error>
                  </mat-form-field>

                  <mat-form-field class="institution-field w-full" appearance="outline">
                    <mat-label>Institution/Board</mat-label>
                    <mat-icon matIconPrefix>account_balance</mat-icon>
                    <input matInput formControlName="board" placeholder="e.g., University of XYZ" required />
                    <mat-error>Institution/Board is required</mat-error>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="result-field w-full">
                    <mat-label>Result/Grade</mat-label>
                    <mat-icon matIconPrefix>grade</mat-icon>
                    <input matInput formControlName="result" placeholder="e.g., 3.8 GPA or First Class" required />
                    <mat-error>Result/Grade is required</mat-error>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="passingYear-field w-full">
                    <mat-label>Year of Passing</mat-label>
                    <mat-icon matIconPrefix>calendar_today</mat-icon>
                    <input matInput formControlName="passingYear" type="number" placeholder="e.g., 2020" required 
                           min="1950" max="2030" />
                    <mat-error>Year of Passing is required</mat-error>
                  </mat-form-field>
                </div>
              </mat-card-content>
            </mat-card>
          </div>

          <button mat-raised-button color="primary" type="button" (click)="addEducation()">
            <mat-icon>add</mat-icon>
            Add Education
          </button>
        </mat-card-content>
      </mat-card>
    </form>
  </div>
</div>